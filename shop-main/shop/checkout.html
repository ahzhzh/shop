<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		 <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

		<title>결제</title>

 		<!-- Google font -->
 		<link href="https://fonts.googleapis.com/css?family=Montserrat:400,500,700" rel="stylesheet">

 		<!-- Bootstrap -->
 		<link type="text/css" rel="stylesheet" href="css/bootstrap.min.css"/>

 		<!-- Slick -->
 		<link type="text/css" rel="stylesheet" href="css/slick.css"/>
 		<link type="text/css" rel="stylesheet" href="css/slick-theme.css"/>

 		<!-- nouislider -->
 		<link type="text/css" rel="stylesheet" href="css/nouislider.min.css"/>

 		<!-- Font Awesome Icon -->
 		<link rel="stylesheet" href="css/font-awesome.min.css">

 		<!-- Custom stlylesheet -->
 		<link type="text/css" rel="stylesheet" href="css/style.css"/>

        <!-- voice-search.css 추가 -->
        <link type="text/css" rel="stylesheet" href="css/voice-search.css"/>

		 <script src="./js/main.js" defer></script>


		<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
		<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
		<!--[if lt IE 9]>
		  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
		  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->

    </head>
	<body>
		<!-- Header Placeholder -->
		<header></header>

		<!-- Navigation Placeholder -->
		<nav></nav>

		<!-- BREADCRUMB -->
		<div id="breadcrumb" class="section">
			<!-- container -->
			<div class="container">
				
			</div>
			<!-- /container -->
		</div>
		<!-- /BREADCRUMB -->

		<!-- SECTION -->
		<div class="section">
			<!-- container -->
			<div class="container">
				<!-- row -->
				<div class="row">

					<div class="col-md-7">
						<!-- Billing Details -->
						<div class="billing-details">
							<div class="section-title">
								<h3 class="title">주소</h3>
							</div>
							<div class="form-group">
								<input class="input" type="text" name="name" placeholder="이름">
							</div>
							<div class="form-group">
								<input class="input" type="email" name="email" placeholder="Email">
							</div>
							<div class="form-group">
								<input class="input" type="text" name="address" placeholder="주소">
							</div>
							<div class="form-group">
								<input class="input" type="text" name="city" placeholder="상세 주소">
							</div>
							
							<div class="form-group">
								<input class="input" type="tel" name="tel" placeholder="전화번호">
							</div>
							<div class="form-group">
								<div class="input-checkbox">
									
									<label for="create-account">
										<span></span>
										
									</label>
									<div class="caption">
										<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt.</p>
										<input class="input" type="password" name="password" placeholder="Enter Your Password">
									</div>
								</div>
							</div>
						</div>
						<!-- /Billing Details -->

						<!-- Shiping Details -->
						<div class="shiping-details">
							<div class="section-title">
								<h3 class="title">요청 사항</h3>
							</div>
							<div class="input-checkbox">
								<label for="shiping-address">
									<span></span>
								요청 사항을 입력해주세요.
								</label>
								<div class="caption">									
									<div class="form-group">
										<input class="input" type="text" name="name" placeholder="Name">
									</div>
									<div class="form-group">
										<input class="input" type="email" name="email" placeholder="Email">
									</div>
									<div class="form-group">
										<input class="input" type="text" name="address" placeholder="Address">
									</div>
									<div class="form-group">
										<input class="input" type="text" name="city" placeholder="City">
									</div>								
									<div class="form-group">
										<input class="input" type="tel" name="tel" placeholder="Telephone">
									</div>
								</div>
							</div>
						</div>
						<!-- /Shiping Details -->

						<!-- Order notes -->
						<div class="order-notes">
							<textarea class="input" placeholder=""></textarea>
						</div>
						<!-- /Order notes -->
					</div>

					<!-- Order Details -->
					<div class="col-md-5 order-details">
						<div class="section-title text-center">
						<h3 class="title">주문 내역</h3>
						</div>
						<div class="order-summary">
						<div class="order-col">
							<div><strong>상품</strong></div>
							<div><strong>합계</strong></div>
						</div>
						<div class="order-products" id="orderProducts">
							<!-- 여기에 장바구니 상품들이 동적으로 추가됩니다 -->
						</div>	  
						<div class="order-col">
							<div><strong>TOTAL</strong></div>
							<div><strong class="order-total" id="orderTotal"></strong></div>
						</div>
						</div>
						<div class="payment-method">
						<div class="input-radio">
							<input type="radio" name="payment" id="payment-1">
							<label for="payment-1">
							<span></span>
							카드 결제
							</label>
						</div>
						<div class="input-radio">
							<input type="radio" name="payment" id="payment-2">
							<label for="payment-2">
							<span></span>
							가상 계좌
							</label>
						</div>
						<div class="input-radio">
							<input type="radio" name="payment" id="payment-3">
							<label for="payment-3">
							<span></span>
							기타
							</label>
						</div>
						</div>
						<div class="input-checkbox">
						<input type="checkbox" id="terms">
						<label for="terms">
							<span></span>
							<a href="#"> 이용약관</a>을 읽었으며 이에 동의합니다.</a>
						</label>
						</div>
						<a href="#" class="primary-btn order-submit" id="paymentButton">결제</a>
					</div>
					<!-- /Order Details -->
				</div>
				<!-- /row -->
			</div>
			<!-- /container -->
		</div>
		<!-- /SECTION -->
		
		
		<!-- Footer Placeholder -->
		<footer></footer>

		<!-- jQuery Plugins -->
		<script src="js/jquery.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
		<script src="js/slick.min.js"></script>
		<script src="js/nouislider.min.js"></script>
		<script src="js/jquery.zoom.min.js"></script>
		<script src="js/main.js"></script>

        <!-- Voice Recognition -->
        <script src="js/voice-recognition.js"></script>

        <!-- Header and Footer Load Script -->
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                // 헤더 로드
                fetch('header.html')
                    .then(response => response.text())
                    .then(data => {
                        // header 태그 내용을 header.html의 내용 중 header 태그 내부 내용만 추출하여 교체
                        const tempDiv = document.createElement('div');
                        tempDiv.innerHTML = data;
                        const headerContent = tempDiv.querySelector('header').innerHTML;
                        document.querySelector('header').innerHTML = headerContent;
                        
                        // 헤더가 로드된 후 음성 인식 초기화
                        if (typeof initVoiceRecognition === 'function') {
                            initVoiceRecognition();
                        }
                    })
                    .catch(error => console.error('헤더 로드 중 오류:', error));

                // 푸터 로드
                fetch('footer.html')
                    .then(response => response.text())
                    .then(data => {
                        document.querySelector('footer').innerHTML = data;
                    })
                    .catch(error => console.error('푸터 로드 중 오류:', error));

                // 장바구니 상품 로드
                const orderProductsElement = document.getElementById('orderProducts');
                const orderTotalElement = document.getElementById('orderTotal');
                const cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
                let total = 0;

                cartItems.forEach(item => {
                    const productElement = document.createElement('div');
                    productElement.className = 'order-col';
                    productElement.innerHTML = `
                    <div>${item.name}</div>
                    <div>₩${Number(item.price).toLocaleString()}</div>
                    `;
                    orderProductsElement.appendChild(productElement);
                    total += Number(item.price) * item.quantity;
                });

                orderTotalElement.textContent = `₩${total.toLocaleString()}`;
            });
        </script>

	</body>
</html>
